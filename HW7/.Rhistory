tumor_feature <- fread('http://genomics-pubs.princeton.edu/oncology/affydata/I2000.html')
setwd('d:/my_repo/CS498_AML/HW7')
library(glmnet)
library(data.table)
install.packages("data.table")
setwd('d:/my_repo/CS498_AML/HW7')
library(glmnet)
library(data.table)
tumor_feature <- fread('http://genomics-pubs.princeton.edu/oncology/affydata/I2000.html')
View(tumor_feature)
View(tumor_feature)
tumor_feature[,1] <- NULL
tumor_feature <- fread('http://genomics-pubs.princeton.edu/oncology/affydata/I2000.html')
tumor_feature[,C(1,2,3)] <- NULL
tumor_feature[,C(1,2,3)] <- NULL
setwd('d:/my_repo/CS498_AML/HW7')
library(glmnet)
library(data.table)
tumor_feature <- read.csv('I2000.csv', header = TRUE, sep = ',')
View(tumor_feature)
tumor_feature <- read.csv('I2000.csv', header = TRUE, sep = '\t')
tumor_feature <- read.csv('I2000.csv', header = TRUE, sep = ',')
tumor_feature <- read.csv('I2000.txt', header = TRUE, sep = ',')
tumor_feature <- read.csv('I2000.txt', header = TRUE, sep = ' ')
tumor_feature <- read.csv('I2000.txt', header = TRUE)
tumor_feature <- fread('http://genomics-pubs.princeton.edu/oncology/affydata/I2000.html')
tumor_feature <- tumor_feature[,c(1,2,3)]
tumor_feature <- fread('http://genomics-pubs.princeton.edu/oncology/affydata/I2000.html')
tumor_feature <- tumor_feature[,-c(1,2,3)]
View(tumor_feature)
tumor_feature$V4 <- substring(tumor_feature$V4, 5)
View(tumor_feature)
tumor_feature <- fread('http://genomics-pubs.princeton.edu/oncology/affydata/I2000.html')
tumor_feature <- tumor_feature[,-c(1,2,3)]
tumor_feature$V4 <- substring(tumor_feature$V4, 11)
View(tumor_feature)
tumor_feature <- fread('http://genomics-pubs.princeton.edu/oncology/affydata/I2000.html')
tumor_feature <- tumor_feature[,-c(1,2,3)]
tumor_feature$V4 <- substring(tumor_feature$V4, 12)
View(tumor_feature)
tumor_feature$V65 <- substr(tumor_feature$V65, 1, nchar(tumor_feature$V65)-3)
View(tumor_feature)
tumor_feature <- fread('http://genomics-pubs.princeton.edu/oncology/affydata/I2000.html')
tumor_feature <- tumor_feature[,-c(1,2,3)]
tumor_feature$V4 <- substring(tumor_feature$V4, 12)
tumor_feature$V65 <- substr(tumor_feature$V65, nchar(tumor_feature$V65)-6)
View(tumor_feature)
tumor_feature <- fread('http://genomics-pubs.princeton.edu/oncology/affydata/I2000.html')
tumor_feature <- tumor_feature[,-c(1,2,3)]
tumor_feature$V4 <- substring(tumor_feature$V4, 12)
tumor_feature$V65 <- substr(tumor_feature$V65, 1, nchar(tumor_feature$V65)-10)
tumor_feature <- fread('http://genomics-pubs.princeton.edu/oncology/affydata/I2000.html')
tumor_feature <- tumor_feature[,-c(1,2,3)]
tumor_feature$V4 <- substring(tumor_feature$V4, 12)
tumor_feature$V65 <- substr(tumor_feature$V65, 1, nchar(tumor_feature$V65)-11)
tumor_feature <- fread('http://genomics-pubs.princeton.edu/oncology/affydata/I2000.html')
tumor_feature <- tumor_feature[,-c(1,2,3)]
tumor_feature$V4 <- substring(tumor_feature$V4, 12)
tumor_feature$V65 <- substr(tumor_feature$V65, 1, nchar(tumor_feature$V65)-15)
tumor_feature <- fread('http://genomics-pubs.princeton.edu/oncology/affydata/I2000.html')
tumor_feature <- tumor_feature[,-c(1,2,3)]
tumor_feature$V4 <- substring(tumor_feature$V4, 12)
tumor_feature$V65 <- substr(tumor_feature$V65, 1, nchar(tumor_feature$V65)-16)
View(tumor_feature)
tumor_feature <- fread('http://genomics-pubs.princeton.edu/oncology/affydata/I2000.html')
tumor_feature <- tumor_feature[,-c(1,2,3)]
tumor_feature$V4 <- substring(tumor_feature$V4, 12)
tumor_feature$V65 <- substr(tumor_feature$V65, 1, nchar(tumor_feature$V65)-12)
tumor_feature <- fread('http://genomics-pubs.princeton.edu/oncology/affydata/I2000.html')
tumor_feature <- tumor_feature[,-c(1,2,3)]
tumor_feature$V4 <- substring(tumor_feature$V4, 12)
tumor_feature$V65 <- substr(tumor_feature$V65, 1, nchar(tumor_feature$V65)-11)
as.matrix(sapply(tumor_feature, as.numeric))
tumor <- as.matrix(sapply(tumor_feature, as.numeric))
View(tumor)
tumor <- t(tumor)
dim(tumor)
tumor_Y <- fread('http://genomics-pubs.princeton.edu/oncology/affydata/tissues.html')
View(tumor_Y)
View(tumor_Y)
View(tumor_Y)
setwd('d:/my_repo/CS498_AML/HW7')
library(glmnet)
library(data.table)
tumor_Y <- read.csv('tissue.txt')
View(tumor_Y)
View(tumor_Y)
tumor_Y <- read.csv('tissue.txt', header = FALSE)
View(tumor_Y)
View(tumor_Y)
View(tumor_Y)
View(tumor_Y)
tumor.ymat = as.matrix(apply(tumor_Y, 1, FUN=function(x){if (x > 0) {x = 0} else {x = 1}}))
View(tumor.ymat)
View(tumor.ymat)
View(tumor_Y)
View(tumor_Y)
install.packages("doParallel")
library(doParallel)
registerDoParallel(6)
tumor.glm <- cv.glmnet(tumor.xmat, tumor.ymat, family='binomial', type.measure = 'auc', parallel = TRUE)
tumor.xmat <- as.matrix(tumor)
tumor.ymat = as.matrix(apply(tumor_Y, 1, FUN=function(x){if (x > 0) {x = 0} else {x = 1}}))
tumor.glm <- cv.glmnet(tumor.xmat, tumor.ymat, family='binomial', type.measure = 'auc', parallel = TRUE)
tumor.glm <- cv.glmnet(tumor.xmat, tumor.ymat, nfolds = 5, family='binomial', type.measure = 'auc', parallel = TRUE)
plot(tumor.glm)
tumor.glm <- cv.glmnet(tumor.xmat, tumor.ymat, nfolds = 5, family='binomial', type.measure = 'class', parallel = TRUE)
plot(tumor.glm)
tumor.glm <- cv.glmnet(tumor.xmat, tumor.ymat, family='binomial', type.measure = 'class', parallel = TRUE)
plot(tumor.glm)
setwd('d:/my_repo/CS498_AML/HW7')
library(glmnet)
library(data.table)
library(doParallel)
raw.data.x = read.csv(file ="gene_data_x.txt", header = F, sep = " ")
gene.data.x = t(as.matrix(raw.data.x))
all.equal(raw.data.x, tumor)
View(gene.data.x)
View(gene.data.x)
View(tumor)
View(tumor)
tumor_feature <- fread('http://genomics-pubs.princeton.edu/oncology/affydata/I2000.html')
View(tumor_feature)
View(tumor_feature)
tumor_feature <- tumor_feature[,-c(1,2,3)]
tumor_feature$V4 <- substring(tumor_feature$V4, 12)
tumor_feature <- fread('http://genomics-pubs.princeton.edu/oncology/affydata/I2000.html')
tumor_feature <- tumor_feature[,-c(1,2,3)]
View(tumor_feature)
View(tumor_feature)
tumor_feature$V4 <- substring(tumor_feature$V4, 12)
tumor_feature <- fread('http://genomics-pubs.princeton.edu/oncology/affydata/I2000.html')
tumor_feature <- tumor_feature[,-c(1,2,3)]
tumor_feature$V4 <- substring(tumor_feature$V4, 10)
tumor_feature$V65 <- substr(tumor_feature$V65, 1,
nchar(tumor_feature$V65)-11)
tumor_feature[1, 62]
typeof(tumor_feature[1, 62])
tumor_feature[1, 62] = 7.4720100e+003
tumor <- as.matrix(sapply(tumor_feature, as.numeric))
tumor <- t(tumor)
tumor.xmat <- as.matrix(tumor)
tumor.ymat = as.matrix(apply(tumor_Y, 1, FUN=function(x){if (x > 0) {x = 0} else {x = 1}}))
tumor.glm <- cv.glmnet(tumor.xmat, tumor.ymat, family='binomial', type.measure = 'class', parallel = TRUE)
plot(tumor.glm)
setwd('d:/my_repo/CS498_AML/HW7')
library(glmnet)
library(data.table)
library(doParallel)
registerDoParallel(cores = 6)
blog.train <- read.csv('BlogFeedback/blogData_train.csv', header = FALSE)
blog.train.xmat <- as.matrix(blog.train[, -c(281)])
blog.train.ymat <- as.matrix(blog.train[, 281])
dmodel <- cv.glmnet(blog.train.xmat, blog.train.ymat, family='poisson', parallel = TRUE)
plot(dmodel)
save.image("D:/my_repo/CS498_AML/HW7/successful_run.RData")
